# Azure Event Hubs Configuration with SSL/TLS Settings
#
# Custom SSL certificate verification configuration

<match secure.**>
  @type azureeventhubs

  connection_string "#{ENV['AZURE_EVENTHUBS_CONNECTION_STRING']}"
  hub_name secure-logs

  # SSL/TLS Configuration
  # Enable SSL certificate verification (default: true)
  ssl_verify true

  # For testing only - disable SSL verification (NOT recommended for production)
  # ssl_verify false

  # Connection timeouts
  open_timeout 60
  read_timeout 60

  # SAS token expiry interval in seconds (default: 3600 = 1 hour)
  expiry_interval 7200  # 2 hours

  include_tag true
  include_time true

  <buffer>
    @type memory
    flush_interval 10s
  </buffer>
</match>
